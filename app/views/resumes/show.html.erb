
<div class="container mx-auto flex justify-between mb-6 px-5 py-4 bg-white shadow-sm rounded-bl-lg rounded-br-lg ">
    <span>
      <a href="<%= resumes_path%>" class="inline-flex items-center border-1 border-gray-300 py-2 px-6 focus:outline-none hover:bg-gray-100 rounded text-base mt-4 md:mt-0"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 mr-1" viewBox="0 0 24 24">
      <path d="M19 12H5m7-7l-7 7 7 7"></path>
      </svg>Go Back</a>
    </span>

    <span>
     <%= link_to download_resume_path(@resume, format: :pdf),
        class: "inline-flex items-center gap-2 bg-gray-900 hover:bg-gray-700 py-2 px-6 rounded font-medium text-white mt-4 md:mt-0" do %>
        Download
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 19 18" class="w-6">
          <path fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
            d="M11.552 2.071H6.563c-1.544 0-2.875 1.252-2.875 2.797v8.053c0 1.632 1.243 2.915 2.875 2.915h5.991c1.545 0 2.797-1.37 2.797-2.915V6.028l-3.799-3.957z"
            clip-rule="evenodd" />
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
            d="M11.354 2.063v2.181a1.93 1.93 0 001.927 1.932c.987.002 1.997.003 2.066-.002M9.23 12.01V7.08M7.102 9.872l2.128 2.139 2.13-2.139" />
        </svg>
      <% end %>
    </span>
</div>
    
<div class="container mx-auto flex mb-6 py-2">
    <h2 class="font-bold text-4xl text-gray-900 pb-2"><%=@resume.title%></h2>
</div>

<div class="flex justify-between container mx-auto gap-10">

  <!--- Form ---> 
  <div class="w-full flex flex-col gap-5">

    <!--- Profile Section ---> 
    
      <div class="group bg-white w-full rounded-2xl border border-gray-300 shadow-sm px-6 py-4">
        <h2 class="font-bold text-2xl text-gray-900 pb-2">Profile</h2>
          <%= form_with model: @profile, url: resume_profile_path(@resume), local: true do |f| %>

            <div class="">
              <div class="flex gap-4 py-2">
                <div class="relative w-full">
                  <%= f.label :name, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :name, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
                <div class="relative w-full">
                  <%= f.label :profession, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :profession, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
              </div>

              <div class="flex gap-4 py-2">
                <div class="relative w-full">
                  <%= f.label :location, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :location, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
                <div class="relative w-full">
                  <%= f.label :email, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :email, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
              </div>

              <div class="flex gap-4 py-2">
                <div class="relative w-full">
                  <%= f.label :phone, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :phone, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
                <div class="relative w-full">
                  <%= f.label :website, class: "leading-7 font-bold text-gray-900"%>
                  <%= f.text_field :website, class: "w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"%>
                </div>
              </div>
              
            
              <div class="w-full py-2">
                <div class="relative">
                    <%= f.label :description, class: "leading-7 font-bold text-gray-900"%>
                    <%= f.text_area :description, class: "w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 h-32 text-base outline-none text-gray-700 py-2 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"%>
                  </div>
              </div>

              <%= f.submit class: "container mx-auto cursor-pointer bg-gray-900 text-white py-3 px-4 rounded hover:bg-gray-700" %>
            </div>
        </div>
      <% end %>
      
      <!--- Experience Section ---> 

      <details class="group bg-white w-full rounded-2xl border border-gray-300 shadow-sm px-6 py-4">
        <summary class="cursor-pointer list-none flex justify-between items-center">
          <h2 class="font-bold text-2xl text-gray-900 pb-2">Experience</h2>
          <span class="transition group-open:rotate-180">⌄</span>
        </summary>

        <div class="">
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Company</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Role</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="flex gap-4 py-2">
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">Start Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">End Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
          <div class="relative">
              <label for="message" class="leading-7 font-bold text-gray-900">Description</label>
              <textarea id="message" name="message" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 h-32 text-base outline-none text-gray-700 py-2 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
            </div>
          </div>
        </div>
      </details>
      
      <!--- Education Section ---> 

      <details class="group bg-white w-full rounded-2xl border border-gray-300 shadow-sm px-6 py-4">
        <summary class="cursor-pointer list-none flex justify-between items-center">
          <h2 class="font-bold text-2xl text-gray-900 pb-2">Education</h2>
          <span class="transition group-open:rotate-180">⌄</span>
        </summary>

        <div class="">
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Company</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Role</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="flex gap-4 py-2">
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">Start Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">End Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
          <div class="relative">
              <label for="message" class="leading-7 font-bold text-gray-900">Description</label>
              <textarea id="message" name="message" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 h-32 text-base outline-none text-gray-700 py-2 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
            </div>
          </div>
        </div>
      </details>

      <!--- Portfolio Section ---> 

      <details class="group bg-white w-full rounded-2xl border border-gray-300 shadow-sm px-6 py-4">
        <summary class="cursor-pointer list-none flex justify-between items-center">
          <h2 class="font-bold text-2xl text-gray-900 pb-2">Portfolio</h2>
          <span class="transition group-open:rotate-180">⌄</span>
        </summary>

        <div class="">
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Company</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Role</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="flex gap-4 py-2">
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">Start Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">End Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
          <div class="relative">
              <label for="message" class="leading-7 font-bold text-gray-900">Description</label>
              <textarea id="message" name="message" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 h-32 text-base outline-none text-gray-700 py-2 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
            </div>
          </div>
        </div>
      </details>

      <!--- Skills Section ---> 

      <details class="group bg-white w-full rounded-2xl border border-gray-300 shadow-sm px-6 py-4">
        <summary class="cursor-pointer list-none flex justify-between items-center">
          <h2 class="font-bold text-2xl text-gray-900 pb-2">Skills</h2>
          <span class="transition group-open:rotate-180">⌄</span>
        </summary>

        <div class="">
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Company</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
            <div class="relative">
              <label for="name" class="leading-7 font-bold text-gray-900">Role</label>
              <input type="text" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="flex gap-4 py-2">
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">Start Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div class="relative w-full">
              <label for="name" class="leading-7 font-bold text-gray-900">End Date</label>
              <input type="date" id="name" name="name" class="w-full bg-gray-100 bg-opacity-50 rounded focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
          </div>
          <div class="w-full py-2">
          <div class="relative">
              <label for="message" class="leading-7 font-bold text-gray-900">Description</label>
              <textarea id="message" name="message" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 h-32 text-base outline-none text-gray-700 py-2 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
            </div>
          </div>
        </div>
      </details>

    </div>

    <!--- Resume ---> 
    <div class="max-w-3xl min-w-3xl w-2/3 max-h-fit mx-auto bg-white px-8 py-10 border border-gray-300 rounded shadow-sm">
  
      <% if (profile = @resume.profile) %>
        <header class="mb-8">
          <span>
            <h1 class="text-3xl font-bold text-gray-900"><%= @resume.profile.name %> <span class="text-gray-700 text-sm"></h1>
            <%= @resume.profile.profession %></span>
          </span>
          <span>
          <%if profile.location.present?%>
            <p class="mt-1 text-gray-700 text-sm"><%= profile.location %></p>
          <% end %>
          <%if profile.email.present?%>
            <p class="mt-1 text-gray-700 text-sm"><%= profile.email %></p>
          <% end %>
          <%if profile.phone.present?%>
            <p class="mt-1 text-gray-700 text-sm"><%= profile.phone %></p>
          <% end %>
          <%if profile.website.present?%>
            <p class="mt-1 text-gray-700 text-sm"><%= profile.website %></p>
          <% end %>
          </span>
        </header>
      <% end %>
      <!-- Profile -->
      <% if @resume.profile.present? %>
        <section class="mb-8">
          <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
            Profile
          </h2>

            <div class="mb-4">
              <div class="flex justify-between">
                <span class="text-gray-700 text-sm">
                  <%= @resume.profile.description %>
                </span>
              </div>
            </div>
        </section>
      <% end %>

      <!-- Experience -->
      <% if @resume.experiences.any? %>
        <section class="mb-8">
          <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
            Experience
          </h2>

          <% @resume.experiences.each do |exp| %>
            <div class="mb-4">
              <div class="flex justify-between">
                <span class="font-medium text-gray-900">
                  <%= exp.role %> — <%= exp.company %>
                </span>
                <span class="text-sm text-gray-500">
                  <%= exp.start_date.year %>
                  <% if exp.end_date %>
                    – <%= exp.end_date.year %>
                  <% else %>
                    – Present
                  <% end %>
                </span>
              </div>

              <p class="mt-1 text-gray-700 text-sm">
                <%= exp.description %>
              </p>
            </div>
          <% end %>
        </section>
      <% end %>

      <!-- Education -->
      <% if @resume.educations.any? %>
        <section class="mb-8">
          <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
            Education
          </h2>

          <% @resume.educations.each do |edu| %>
            <div class="mb-3">
              <div class="font-medium text-gray-900">
                <%= edu.degree %>, <%= edu.institution %>
              </div>
              <div class="text-sm text-gray-500">
                <%= edu.start_date.year %> – <%= edu.end_date&.year %>
              </div>
            </div>
          <% end %>
        </section>
      <% end %>

      <!-- Projects -->
      <% if @resume.projects.any? %>
        <section class="mb-8">
          <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
            Projects
          </h2>

          <% @resume.projects.each do |project| %>
            <div class="mb-3">
              <div class="font-medium text-gray-900">
                <%= project.name %>
              </div>
              <p class="text-sm text-gray-700">
                <%= project.description %>
              </p>
            </div>
          <% end %>
        </section>
      <% end %>

      <!-- Skills -->
      <% if @resume.skills.any? %>
        <section>
          <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
            Skills
          </h2>

          <ul class="flex flex-wrap gap-2">
            <% @resume.skills.each do |skill| %>
              <li class="text-sm bg-gray-100 px-3 py-1 rounded">
                <%= skill.name %>
              </li>
            <% end %>
          </ul>
        </section>
      <% end %>
    </div>

</div>
