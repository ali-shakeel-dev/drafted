<div class="max-w-3xl min-w-3xl w-2/3 max-h-fit mx-auto bg-white px-8 py-10 border border-gray-300 rounded shadow-sm">

  <% if (profile = @resume.profile) %>
    <header class="mb-8">
      <span>
        <h1 class="text-3xl font-bold text-gray-900"><%= @resume.profile.name %> <span class="text-gray-700 text-sm"></h1>
        <%= @resume.profile.profession %></span>
      </span>
      <span>
      <%if profile.location.present?%>
        <p class="mt-1 text-gray-700 text-sm"><%= profile.location %></p>
      <% end %>
      <%if profile.email.present?%>
        <p class="mt-1 text-gray-700 text-sm"><%= profile.email %></p>
      <% end %>
      <%if profile.phone.present?%>
        <p class="mt-1 text-gray-700 text-sm"><%= profile.phone %></p>
      <% end %>
      <%if profile.website.present?%>
        <p class="mt-1 text-gray-700 text-sm"><%= profile.website %></p>
      <% end %>
      </span>
    </header>
  <% end %>
  <!-- Profile -->
  <% if @resume.profile.present? %>
    <section class="mb-8">
      <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
        Profile
      </h2>

        <div class="mb-4">
          <div class="flex justify-between">
            <span class="text-gray-700 text-sm">
              <%= @resume.profile.description %>
            </span>
          </div>
        </div>
    </section>
  <% end %>

  <!-- Experience -->
  <% if @resume.experiences.any? %>
    <section class="mb-8">
      <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
        Experience
      </h2>

      <% @resume.experiences.each do |exp| %>
        <div class="mb-4">
          <div class="flex justify-between">
            <span class="font-medium text-gray-900">
              <%= exp.role %> — <%= exp.company %>
            </span>
            <span class="text-sm text-gray-500">
              <%= exp.start_date.year %>
              <% if exp.end_date %>
                – <%= exp.end_date.year %>
              <% else %>
                – Present
              <% end %>
            </span>
          </div>

          <p class="mt-1 text-gray-700 text-sm">
            <%= exp.description %>
          </p>
        </div>
      <% end %>
    </section>
  <% end %>

  <!-- Education -->
  <% if @resume.educations.any? %>
    <section class="mb-8">
      <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
        Education
      </h2>

      <% @resume.educations.each do |edu| %>
        <div class="mb-3">
          <div class="font-medium text-gray-900">
            <%= edu.degree %>, <%= edu.institution %>
          </div>
          <div class="text-sm text-gray-500">
            <%= edu.start_date.year %> – <%= edu.end_date&.year %>
          </div>
        </div>
      <% end %>
    </section>
  <% end %>

  <!-- Projects -->
  <% if @resume.projects.any? %>
    <section class="mb-8">
      <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
        Projects
      </h2>

      <% @resume.projects.each do |project| %>
        <div class="mb-3">
          <div class="font-medium text-gray-900">
            <%= project.name %>
          </div>
          <p class="text-sm text-gray-700">
            <%= project.description %>
          </p>
        </div>
      <% end %>
    </section>
  <% end %>

  <!-- Skills -->
  <% if @resume.skills.any? %>
    <section>
      <h2 class="text-lg font-semibold text-gray-900 border-b pb-1 mb-4">
        Skills
      </h2>

      <ul class="flex flex-wrap gap-2">
        <% @resume.skills.each do |skill| %>
          <li class="text-sm bg-gray-100 px-3 py-1 rounded">
            <%= skill.name %>
          </li>
        <% end %>
      </ul>
    </section>
  <% end %>
</div>