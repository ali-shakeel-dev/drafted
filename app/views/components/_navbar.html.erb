<header class="bg-gray-50 border-b border-gray-200">
  <div class="container mx-auto px-5">
    <div class="flex h-16 items-center justify-between">
      
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2 font-medium text-gray-900">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
          stroke-width="2" class="w-9 h-9 text-white p-2 bg-gray-900 rounded-full"
          viewBox="0 0 24 24">
          <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
        </svg>
        <span class="text-lg">Drafted</span>
      </a>

      <!-- Desktop nav -->
      <nav class="hidden md:flex items-center gap-8 text-sm font-medium">
        <a href="#features" class="hover:text-gray-900">Features</a>
        <a href="<%= resume_templates_path %>" class="hover:text-gray-900">Resume Templates</a>
      </nav>

      <!-- Desktop actions -->
      <div class="hidden md:flex items-center gap-5">
        <% if user_signed_in? %>

          <a href="<%= resumes_path %>"
             class="rounded-md bg-gray-900 px-5 py-2 text-white text-sm font-medium hover:bg-gray-800">
            Dashboard
          </a>

          <div class="relative">
            <button
              onclick="document.getElementById('user-menu').classList.toggle('hidden')"
              class="focus:outline-none cursor-pointer"
            >
              <img class="h-9 w-9 rounded-full object-cover"
                   src="https://i.pravatar.cc/100?img=12"
                   alt="User avatar" />
            </button>

            <div id="user-menu"
                 class="hidden absolute right-0 mt-2 w-56 rounded-lg bg-white shadow-lg ring-1 ring-black/5 z-20">
              <div class="px-4 py-3 border-b border-gray-200 text-sm">
                <p class="font-medium text-gray-900">User Name</p>
                <p class="text-gray-500 truncate"><%= current_user.email %></p>
              </div>
              <div class="py-2">
                <%= button_to "Logout",
                    destroy_user_session_path,
                    method: :delete,
                    class: "w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 cursor-pointer" %>
              </div>
            </div>
          </div>

        <% else %>

          <a href="<%= new_user_registration_path %>"
             class="rounded-md bg-gray-900 px-5 py-2 text-white text-sm font-medium hover:bg-gray-800">
            Sign Up
          </a>

          <a href="<%= user_session_path %>"
             class="rounded-md border border-gray-300 px-5 py-2 text-sm font-medium hover:bg-gray-100">
            Log In
          </a>

        <% end %>
      </div>

      <!-- Mobile menu button -->
      <button
        class="md:hidden inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-200"
        onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200 bg-white">
    <div class="px-5 py-4 space-y-4 text-sm font-medium">
      <a href="#features" class="block hover:text-gray-900">Features</a>
      <a href="<%= resume_templates_path %>" class="block hover:text-gray-900">Resume Templates</a>

      <div class="pt-4 border-t space-y-3">
        <% if user_signed_in? %>
          <a href="<%= resumes_path %>"
             class="block rounded-md bg-gray-900 px-4 py-2 text-white text-center hover:bg-gray-800">
            Dashboard
          </a>

          <%= button_to "Logout",
              destroy_user_session_path,
              method: :delete,
              class: "w-full rounded-md border border-red-200 px-4 py-2 text-red-600 hover:bg-red-50" %>
        <% else %>
          <a href="<%= new_user_registration_path %>"
             class="block rounded-md bg-gray-900 px-4 py-2 text-white text-center hover:bg-gray-800">
            Sign Up
          </a>

          <a href="<%= user_session_path %>"
             class="block rounded-md border border-gray-300 px-4 py-2 text-center hover:bg-gray-100">
            Log In
          </a>
        <% end %>
      </div>
    </div>
  </div>
</header>
